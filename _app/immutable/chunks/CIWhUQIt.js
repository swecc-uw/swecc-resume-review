import{a as n}from"./Cfd7_EqS.js";const c=async()=>{if(localStorage.getItem("ws_token"))return localStorage.getItem("ws_token");const e=await n.get("/auth/jwt");if(console.log(e),e.status!==200)throw new Error(`Authentication failed: ${e.data.detail??"Unknown error"}`);const o=e.data.token;if(console.log(e.data.token),!o)throw new Error("No token received");return localStorage.setItem("ws_token",o),o},s=e=>{const o=new WebSocket(`ws://localhost:8004/ws/resume/${e}`);return o.onopen=()=>{console.log("WebSocket connection opened")},o.onclose=()=>{console.log("WebSocket connection closed")},o.onerror=t=>{console.error("WebSocket error:",t)},o};export{s as a,c as g};
